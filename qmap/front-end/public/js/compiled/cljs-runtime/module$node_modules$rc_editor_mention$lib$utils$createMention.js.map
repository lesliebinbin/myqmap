{
"version":3,
"file":"module$node_modules$rc_editor_mention$lib$utils$createMention.js",
"lineCount":8,
"mappings":"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",
"sources":["node_modules/rc-editor-mention/lib/utils/createMention.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_editor_mention$lib$utils$createMention\"] = function(global,process,require,module,exports,shadow$shims) {\n'use strict';\n\nexports.__esModule = true;\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nexports['default'] = createMention;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Suggestions2 = require('../component/Suggestions.react');\n\nvar _Suggestions3 = _interopRequireDefault(_Suggestions2);\n\nvar _SuggestionPortal = require('../component/SuggestionPortal.react');\n\nvar _SuggestionPortal2 = _interopRequireDefault(_SuggestionPortal);\n\nvar _MentionContent = require('../component/MentionContent.react');\n\nvar _MentionContent2 = _interopRequireDefault(_MentionContent);\n\nvar _mentionStore = require('../model/mentionStore');\n\nvar _mentionStore2 = _interopRequireDefault(_mentionStore);\n\nvar _exportContent = require('./exportContent');\n\nvar _exportContent2 = _interopRequireDefault(_exportContent);\n\nvar _getRegExp = require('../utils/getRegExp');\n\nvar _getRegExp2 = _interopRequireDefault(_getRegExp);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction findWithRegex(regex, contentBlock, callback) {\n  // Get the text from the contentBlock\n  var text = contentBlock.getText();\n  var matchArr = void 0;\n  var start = void 0; // eslint-disable-line\n  var end = void 0;\n  // Go through all matches in the text and return the indizes to the callback\n  while ((matchArr = regex.exec(text)) !== null) {\n    // eslint-disable-line\n    start = matchArr.index;\n    end = start + matchArr[0].length;\n    callback(start, end);\n    if (start === end) break;\n  }\n}\n\nfunction mentionContentStrategy(contentBlock, callback, contentState) {\n  contentBlock.findEntityRanges(function (character) {\n    var entityKey = character.getEntity();\n    return entityKey && contentState.getEntity(entityKey).getType() === 'mention';\n  }, callback);\n}\n\nfunction noop() {}\n\nvar MentionContentComponent = function MentionContentComponent(props) {\n  var entityKey = props.entityKey,\n      tag = props.tag,\n      callbacks = props.callbacks;\n\n  var contentState = callbacks.getEditorState().getCurrentContent();\n  var data = contentState.getEntity(entityKey).getData();\n  return _react2['default'].createElement(tag, (0, _extends3['default'])({}, props, { data: data }));\n};\n\nfunction createMention() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var callbacks = {\n    onChange: noop,\n    onUpArrow: noop,\n    onDownArrow: noop,\n    getEditorState: noop,\n    setEditorState: noop,\n    handleReturn: noop,\n    onBlur: noop\n  };\n  var componentProps = {\n    callbacks: callbacks,\n    mentionStore: _mentionStore2['default']\n  };\n  var suggestionRegex = (0, _getRegExp2['default'])(config.prefix);\n\n  var tag = config.tag || _MentionContent2['default'];\n  var decorators = [{\n    strategy: function strategy(contentBlock, callback) {\n      findWithRegex(suggestionRegex, contentBlock, callback);\n    },\n    component: function component(props) {\n      return _react2['default'].createElement(_SuggestionPortal2['default'], (0, _extends3['default'])({}, props, componentProps, {\n        style: config.mentionStyle,\n        suggestionRegex: (0, _getRegExp2['default'])(config.prefix)\n      }));\n    }\n  }];\n  if (config.mode === 'immutable') {\n    decorators.unshift({\n      strategy: mentionContentStrategy,\n      component: function component(props) {\n        return _react2['default'].createElement(MentionContentComponent, (0, _extends3['default'])({ tag: tag }, props, { callbacks: callbacks }));\n      }\n    });\n  }\n\n  return {\n    name: 'mention',\n    Suggestions: function Suggestions(props) {\n      return _react2['default'].createElement(_Suggestions3['default'], (0, _extends3['default'])({}, props, componentProps, {\n        store: _mentionStore2['default']\n      }));\n    },\n    decorators: decorators,\n    onChange: function onChange(editorState) {\n      return callbacks.onChange ? callbacks.onChange(editorState) : editorState;\n    },\n    callbacks: callbacks,\n    'export': _exportContent2['default']\n  };\n}\nmodule.exports = exports['default'];\n};"],
"names":["shadow$provide","global","process","require","module","exports","shadow$shims","__esModule","_extends2","_extends3","_interopRequireDefault","createMention","_react","_react2","_Suggestions2","_Suggestions3","_SuggestionPortal","_SuggestionPortal2","_MentionContent","_MentionContent2","_mentionStore","_mentionStore2","_exportContent","_exportContent2","_getRegExp","_getRegExp2","obj","findWithRegex","regex","contentBlock","callback","text","getText","matchArr","start","end","exec","index","length","mentionContentStrategy","contentState","findEntityRanges","character","entityKey","getEntity","getType","noop","MentionContentComponent","props","tag","callbacks","getEditorState","getCurrentContent","data","getData","createElement","config","arguments","undefined","onChange","onUpArrow","onDownArrow","setEditorState","handleReturn","onBlur","componentProps","mentionStore","suggestionRegex","prefix","decorators","strategy","component","style","mentionStyle","mode","unshift","name","Suggestions","store","editorState"]
}

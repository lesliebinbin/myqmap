{
"version":3,
"file":"module$node_modules$mini_store$lib$connect.js",
"lineCount":10,
"mappings":"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",
"sources":["node_modules/mini-store/lib/connect.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$mini_store$lib$connect\"] = function(global,process,require,module,exports,shadow$shims) {\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.default = connect;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _shallowequal = require('shallowequal');\n\nvar _shallowequal2 = _interopRequireDefault(_shallowequal);\n\nvar _hoistNonReactStatics = require('hoist-non-react-statics');\n\nvar _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);\n\nvar _reactLifecyclesCompat = require('react-lifecycles-compat');\n\nvar _PropTypes = require('./PropTypes');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\n\nfunction isStateless(Component) {\n  return !Component.prototype.render;\n}\n\nvar defaultMapStateToProps = function defaultMapStateToProps() {\n  return {};\n};\n\nfunction connect(mapStateToProps) {\n  var shouldSubscribe = !!mapStateToProps;\n  var finnalMapStateToProps = mapStateToProps || defaultMapStateToProps;\n\n  return function wrapWithConnect(WrappedComponent) {\n    var Connect = function (_Component) {\n      _inherits(Connect, _Component);\n\n      _createClass(Connect, null, [{\n        key: 'getDerivedStateFromProps',\n        value: function getDerivedStateFromProps(props, prevState) {\n          // using ownProps\n          if (mapStateToProps && mapStateToProps.length === 2 && props !== prevState.props) {\n            return {\n              subscribed: finnalMapStateToProps(prevState.store.getState(), props),\n              props: props\n            };\n          }\n          return { props: props };\n        }\n      }]);\n\n      function Connect(props, context) {\n        _classCallCheck(this, Connect);\n\n        var _this = _possibleConstructorReturn(this, (Connect.__proto__ || Object.getPrototypeOf(Connect)).call(this, props, context));\n\n        _this.handleChange = function () {\n          if (!_this.unsubscribe) {\n            return;\n          }\n          var nextState = finnalMapStateToProps(_this.store.getState(), _this.props);\n          _this.setState({ subscribed: nextState });\n        };\n\n        _this.store = context.miniStore;\n        _this.state = {\n          subscribed: finnalMapStateToProps(_this.store.getState(), props),\n          store: _this.store,\n          props: props\n        };\n        return _this;\n      }\n\n      _createClass(Connect, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n          this.trySubscribe();\n        }\n      }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n          this.tryUnsubscribe();\n        }\n      }, {\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n          return !(0, _shallowequal2.default)(this.props, nextProps) || !(0, _shallowequal2.default)(this.state.subscribed, nextState.subscribed);\n        }\n      }, {\n        key: 'trySubscribe',\n        value: function trySubscribe() {\n          if (shouldSubscribe) {\n            this.unsubscribe = this.store.subscribe(this.handleChange);\n            this.handleChange();\n          }\n        }\n      }, {\n        key: 'tryUnsubscribe',\n        value: function tryUnsubscribe() {\n          if (this.unsubscribe) {\n            this.unsubscribe();\n            this.unsubscribe = null;\n          }\n        }\n      }, {\n        key: 'getWrappedInstance',\n        value: function getWrappedInstance() {\n          return this.wrappedInstance;\n        }\n      }, {\n        key: 'render',\n        value: function render() {\n          var _this2 = this;\n\n          var props = _extends({}, this.props, this.state.subscribed, {\n            store: this.store\n          });\n\n          if (!isStateless(WrappedComponent)) {\n            props = _extends({}, props, {\n              ref: function ref(c) {\n                return _this2.wrappedInstance = c;\n              }\n            });\n          }\n\n          return _react2.default.createElement(WrappedComponent, props);\n        }\n      }]);\n\n      return Connect;\n    }(_react.Component);\n\n    Connect.displayName = 'Connect(' + getDisplayName(WrappedComponent) + ')';\n    Connect.contextTypes = {\n      miniStore: _PropTypes.storeShape.isRequired\n    };\n\n\n    (0, _reactLifecyclesCompat.polyfill)(Connect);\n\n    return (0, _hoistNonReactStatics2.default)(Connect, WrappedComponent);\n  };\n}\n};"],
"names":["shadow$provide","global","process","require","module","exports","shadow$shims","Object","defineProperty","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","default","connect","_react","_react2","_interopRequireDefault","_shallowequal","_shallowequal2","_hoistNonReactStatics","_hoistNonReactStatics2","_reactLifecyclesCompat","_PropTypes","obj","__esModule","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","getDisplayName","WrappedComponent","displayName","name","isStateless","Component","render","defaultMapStateToProps","mapStateToProps","shouldSubscribe","finnalMapStateToProps","wrapWithConnect","Connect","_Component","getDerivedStateFromProps","prevState","subscribed","store","getState","context","_this","getPrototypeOf","handleChange","_this.handleChange","unsubscribe","nextState","setState","miniStore","state","componentDidMount","trySubscribe","componentWillUnmount","tryUnsubscribe","shouldComponentUpdate","nextProps","subscribe","getWrappedInstance","wrappedInstance","_this2","ref","c","createElement","contextTypes","storeShape","isRequired","polyfill"]
}

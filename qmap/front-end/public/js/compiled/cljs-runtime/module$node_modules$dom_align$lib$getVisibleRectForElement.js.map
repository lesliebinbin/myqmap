{
"version":3,
"file":"module$node_modules$dom_align$lib$getVisibleRectForElement.js",
"lineCount":6,
"mappings":"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",
"sources":["node_modules/dom-align/lib/getVisibleRectForElement.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$dom_align$lib$getVisibleRectForElement\"] = function(global,process,require,module,exports,shadow$shims) {\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = require('./utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _getOffsetParent = require('./getOffsetParent');\n\nvar _getOffsetParent2 = _interopRequireDefault(_getOffsetParent);\n\nvar _isAncestorFixed = require('./isAncestorFixed');\n\nvar _isAncestorFixed2 = _interopRequireDefault(_isAncestorFixed);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n * \u83b7\u5f97\u5143\u7d20\u7684\u663e\u793a\u90e8\u5206\u7684\u533a\u57df\n */\nfunction getVisibleRectForElement(element) {\n  var visibleRect = {\n    left: 0,\n    right: Infinity,\n    top: 0,\n    bottom: Infinity\n  };\n  var el = (0, _getOffsetParent2['default'])(element);\n  var doc = _utils2['default'].getDocument(element);\n  var win = doc.defaultView || doc.parentWindow;\n  var body = doc.body;\n  var documentElement = doc.documentElement;\n\n  // Determine the size of the visible rect by climbing the dom accounting for\n  // all scrollable containers.\n  while (el) {\n    // clientWidth is zero for inline block elements in ie.\n    if ((navigator.userAgent.indexOf('MSIE') === -1 || el.clientWidth !== 0) &&\n    // body may have overflow set on it, yet we still get the entire\n    // viewport. In some browsers, el.offsetParent may be\n    // document.documentElement, so check for that too.\n    el !== body && el !== documentElement && _utils2['default'].css(el, 'overflow') !== 'visible') {\n      var pos = _utils2['default'].offset(el);\n      // add border\n      pos.left += el.clientLeft;\n      pos.top += el.clientTop;\n      visibleRect.top = Math.max(visibleRect.top, pos.top);\n      visibleRect.right = Math.min(visibleRect.right,\n      // consider area without scrollBar\n      pos.left + el.clientWidth);\n      visibleRect.bottom = Math.min(visibleRect.bottom, pos.top + el.clientHeight);\n      visibleRect.left = Math.max(visibleRect.left, pos.left);\n    } else if (el === body || el === documentElement) {\n      break;\n    }\n    el = (0, _getOffsetParent2['default'])(el);\n  }\n\n  // Set element position to fixed\n  // make sure absolute element itself don't affect it's visible area\n  // https://github.com/ant-design/ant-design/issues/7601\n  var originalPosition = null;\n  if (!_utils2['default'].isWindow(element) && element.nodeType !== 9) {\n    originalPosition = element.style.position;\n    var position = _utils2['default'].css(element, 'position');\n    if (position === 'absolute') {\n      element.style.position = 'fixed';\n    }\n  }\n\n  var scrollX = _utils2['default'].getWindowScrollLeft(win);\n  var scrollY = _utils2['default'].getWindowScrollTop(win);\n  var viewportWidth = _utils2['default'].viewportWidth(win);\n  var viewportHeight = _utils2['default'].viewportHeight(win);\n  var documentWidth = documentElement.scrollWidth;\n  var documentHeight = documentElement.scrollHeight;\n\n  // scrollXXX on html is sync with body which means overflow: hidden on body gets wrong scrollXXX.\n  // We should cut this ourself.\n  var bodyStyle = window.getComputedStyle(body);\n  if (bodyStyle.overflowX === 'hidden') {\n    documentWidth = win.innerWidth;\n  }\n  if (bodyStyle.overflowY === 'hidden') {\n    documentHeight = win.innerHeight;\n  }\n\n  // Reset element position after calculate the visible area\n  if (element.style) {\n    element.style.position = originalPosition;\n  }\n\n  if ((0, _isAncestorFixed2['default'])(element)) {\n    // Clip by viewport's size.\n    visibleRect.left = Math.max(visibleRect.left, scrollX);\n    visibleRect.top = Math.max(visibleRect.top, scrollY);\n    visibleRect.right = Math.min(visibleRect.right, scrollX + viewportWidth);\n    visibleRect.bottom = Math.min(visibleRect.bottom, scrollY + viewportHeight);\n  } else {\n    // Clip by document's size.\n    var maxVisibleWidth = Math.max(documentWidth, scrollX + viewportWidth);\n    visibleRect.right = Math.min(visibleRect.right, maxVisibleWidth);\n\n    var maxVisibleHeight = Math.max(documentHeight, scrollY + viewportHeight);\n    visibleRect.bottom = Math.min(visibleRect.bottom, maxVisibleHeight);\n  }\n\n  return visibleRect.top >= 0 && visibleRect.left >= 0 && visibleRect.bottom > visibleRect.top && visibleRect.right > visibleRect.left ? visibleRect : null;\n}\n\nexports['default'] = getVisibleRectForElement;\nmodule.exports = exports['default'];\n};"],
"names":["shadow$provide","global","process","require","module","exports","shadow$shims","Object","defineProperty","value","_utils","_utils2","_interopRequireDefault","_getOffsetParent","_getOffsetParent2","_isAncestorFixed","_isAncestorFixed2","obj","__esModule","getVisibleRectForElement","element","visibleRect","left","right","Infinity","top","bottom","el","doc","getDocument","win","defaultView","parentWindow","body","documentElement","navigator","userAgent","indexOf","clientWidth","css","pos","offset","clientLeft","clientTop","Math","max","min","clientHeight","originalPosition","isWindow","nodeType","style","position","scrollX","getWindowScrollLeft","scrollY","getWindowScrollTop","viewportWidth","viewportHeight","documentWidth","scrollWidth","documentHeight","scrollHeight","bodyStyle","window","getComputedStyle","overflowX","innerWidth","overflowY","innerHeight","maxVisibleWidth","maxVisibleHeight"]
}

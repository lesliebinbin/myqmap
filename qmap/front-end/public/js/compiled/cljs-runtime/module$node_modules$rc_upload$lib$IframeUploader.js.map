{
"version":3,
"file":"module$node_modules$rc_upload$lib$IframeUploader.js",
"lineCount":18,
"mappings":"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",
"sources":["node_modules/rc-upload/lib/IframeUploader.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_upload$lib$IframeUploader\"] = function(global,process,require,module,exports,shadow$shims) {\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _uid = require('./uid');\n\nvar _uid2 = _interopRequireDefault(_uid);\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/* eslint react/sort-comp:0 */\nvar IFRAME_STYLE = {\n  position: 'absolute',\n  top: 0,\n  opacity: 0,\n  filter: 'alpha(opacity=0)',\n  left: 0,\n  zIndex: 9999\n};\n\n// diferent from AjaxUpload, can only upload on at one time, serial seriously\n\nvar IframeUploader = function (_Component) {\n  (0, _inherits3['default'])(IframeUploader, _Component);\n\n  function IframeUploader() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3['default'])(this, IframeUploader);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3['default'])(this, (_ref = IframeUploader.__proto__ || Object.getPrototypeOf(IframeUploader)).call.apply(_ref, [this].concat(args))), _this), _this.state = { uploading: false }, _this.file = {}, _this.onLoad = function () {\n      if (!_this.state.uploading) {\n        return;\n      }\n      var _this2 = _this,\n          props = _this2.props,\n          file = _this2.file;\n\n      var response = void 0;\n      try {\n        var doc = _this.getIframeDocument();\n        var script = doc.getElementsByTagName('script')[0];\n        if (script && script.parentNode === doc.body) {\n          doc.body.removeChild(script);\n        }\n        response = doc.body.innerHTML;\n        props.onSuccess(response, file);\n      } catch (err) {\n        (0, _warning2['default'])(false, 'cross domain error for Upload. Maybe server should return document.domain script. see Note from https://github.com/react-component/upload');\n        response = 'cross-domain';\n        props.onError(err, null, file);\n      }\n      _this.endUpload();\n    }, _this.onChange = function () {\n      var target = _this.getFormInputNode();\n      // ie8/9 don't support FileList Object\n      // http://stackoverflow.com/questions/12830058/ie8-input-type-file-get-files\n      var file = _this.file = {\n        uid: (0, _uid2['default'])(),\n        name: target.value && target.value.substring(target.value.lastIndexOf('\\\\') + 1, target.value.length)\n      };\n      _this.startUpload();\n      var _this3 = _this,\n          props = _this3.props;\n\n      if (!props.beforeUpload) {\n        return _this.post(file);\n      }\n      var before = props.beforeUpload(file);\n      if (before && before.then) {\n        before.then(function () {\n          _this.post(file);\n        }, function () {\n          _this.endUpload();\n        });\n      } else if (before !== false) {\n        _this.post(file);\n      } else {\n        _this.endUpload();\n      }\n    }, _this.saveIframe = function (node) {\n      _this.iframe = node;\n    }, _temp), (0, _possibleConstructorReturn3['default'])(_this, _ret);\n  }\n\n  (0, _createClass3['default'])(IframeUploader, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.updateIframeWH();\n      this.initIframe();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.updateIframeWH();\n    }\n  }, {\n    key: 'getIframeNode',\n    value: function getIframeNode() {\n      return this.iframe;\n    }\n  }, {\n    key: 'getIframeDocument',\n    value: function getIframeDocument() {\n      return this.getIframeNode().contentDocument;\n    }\n  }, {\n    key: 'getFormNode',\n    value: function getFormNode() {\n      return this.getIframeDocument().getElementById('form');\n    }\n  }, {\n    key: 'getFormInputNode',\n    value: function getFormInputNode() {\n      return this.getIframeDocument().getElementById('input');\n    }\n  }, {\n    key: 'getFormDataNode',\n    value: function getFormDataNode() {\n      return this.getIframeDocument().getElementById('data');\n    }\n  }, {\n    key: 'getFileForMultiple',\n    value: function getFileForMultiple(file) {\n      return this.props.multiple ? [file] : file;\n    }\n  }, {\n    key: 'getIframeHTML',\n    value: function getIframeHTML(domain) {\n      var domainScript = '';\n      var domainInput = '';\n      if (domain) {\n        var script = 'script';\n        domainScript = '<' + script + '>document.domain=\"' + domain + '\";</' + script + '>';\n        domainInput = '<input name=\"_documentDomain\" value=\"' + domain + '\" />';\n      }\n      return '\\n    <!DOCTYPE html>\\n    <html>\\n    <head>\\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\\n    <style>\\n    body,html {padding:0;margin:0;border:0;overflow:hidden;}\\n    </style>\\n    ' + domainScript + '\\n    </head>\\n    <body>\\n    <form method=\"post\"\\n    encType=\"multipart/form-data\"\\n    action=\"\" id=\"form\"\\n    style=\"display:block;height:9999px;position:relative;overflow:hidden;\">\\n    <input id=\"input\" type=\"file\"\\n     name=\"' + this.props.name + '\"\\n     style=\"position:absolute;top:0;right:0;height:9999px;font-size:9999px;cursor:pointer;\"/>\\n    ' + domainInput + '\\n    <span id=\"data\"></span>\\n    </form>\\n    </body>\\n    </html>\\n    ';\n    }\n  }, {\n    key: 'initIframeSrc',\n    value: function initIframeSrc() {\n      if (this.domain) {\n        this.getIframeNode().src = 'javascript:void((function(){\\n        var d = document;\\n        d.open();\\n        d.domain=\\'' + this.domain + '\\';\\n        d.write(\\'\\');\\n        d.close();\\n      })())';\n      }\n    }\n  }, {\n    key: 'initIframe',\n    value: function initIframe() {\n      var iframeNode = this.getIframeNode();\n      var win = iframeNode.contentWindow;\n      var doc = void 0;\n      this.domain = this.domain || '';\n      this.initIframeSrc();\n      try {\n        doc = win.document;\n      } catch (e) {\n        this.domain = document.domain;\n        this.initIframeSrc();\n        win = iframeNode.contentWindow;\n        doc = win.document;\n      }\n      doc.open('text/html', 'replace');\n      doc.write(this.getIframeHTML(this.domain));\n      doc.close();\n      this.getFormInputNode().onchange = this.onChange;\n    }\n  }, {\n    key: 'endUpload',\n    value: function endUpload() {\n      if (this.state.uploading) {\n        this.file = {};\n        // hack avoid batch\n        this.state.uploading = false;\n        this.setState({\n          uploading: false\n        });\n        this.initIframe();\n      }\n    }\n  }, {\n    key: 'startUpload',\n    value: function startUpload() {\n      if (!this.state.uploading) {\n        this.state.uploading = true;\n        this.setState({\n          uploading: true\n        });\n      }\n    }\n  }, {\n    key: 'updateIframeWH',\n    value: function updateIframeWH() {\n      var rootNode = _reactDom2['default'].findDOMNode(this);\n      var iframeNode = this.getIframeNode();\n      iframeNode.style.height = rootNode.offsetHeight + 'px';\n      iframeNode.style.width = rootNode.offsetWidth + 'px';\n    }\n  }, {\n    key: 'abort',\n    value: function abort(file) {\n      if (file) {\n        var uid = file;\n        if (file && file.uid) {\n          uid = file.uid;\n        }\n        if (uid === this.file.uid) {\n          this.endUpload();\n        }\n      } else {\n        this.endUpload();\n      }\n    }\n  }, {\n    key: 'post',\n    value: function post(file) {\n      var _this4 = this;\n\n      var formNode = this.getFormNode();\n      var dataSpan = this.getFormDataNode();\n      var data = this.props.data;\n      var onStart = this.props.onStart;\n\n      if (typeof data === 'function') {\n        data = data(file);\n      }\n      var inputs = document.createDocumentFragment();\n      for (var key in data) {\n        if (data.hasOwnProperty(key)) {\n          var input = document.createElement('input');\n          input.setAttribute('name', key);\n          input.value = data[key];\n          inputs.appendChild(input);\n        }\n      }\n      dataSpan.appendChild(inputs);\n      new Promise(function (resolve) {\n        var action = _this4.props.action;\n\n        if (typeof action === 'function') {\n          return resolve(action(file));\n        }\n        resolve(action);\n      }).then(function (action) {\n        formNode.setAttribute('action', action);\n        formNode.submit();\n        dataSpan.innerHTML = '';\n        onStart(file);\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classNames;\n\n      var _props = this.props,\n          Tag = _props.component,\n          disabled = _props.disabled,\n          className = _props.className,\n          prefixCls = _props.prefixCls,\n          children = _props.children,\n          style = _props.style;\n\n      var iframeStyle = (0, _extends3['default'])({}, IFRAME_STYLE, {\n        display: this.state.uploading || disabled ? 'none' : ''\n      });\n      var cls = (0, _classnames2['default'])((_classNames = {}, (0, _defineProperty3['default'])(_classNames, prefixCls, true), (0, _defineProperty3['default'])(_classNames, prefixCls + '-disabled', disabled), (0, _defineProperty3['default'])(_classNames, className, className), _classNames));\n      return _react2['default'].createElement(\n        Tag,\n        {\n          className: cls,\n          style: (0, _extends3['default'])({ position: 'relative', zIndex: 0 }, style)\n        },\n        _react2['default'].createElement('iframe', {\n          ref: this.saveIframe,\n          onLoad: this.onLoad,\n          style: iframeStyle\n        }),\n        children\n      );\n    }\n  }]);\n  return IframeUploader;\n}(_react.Component);\n\nIframeUploader.propTypes = {\n  component: _propTypes2['default'].string,\n  style: _propTypes2['default'].object,\n  disabled: _propTypes2['default'].bool,\n  prefixCls: _propTypes2['default'].string,\n  className: _propTypes2['default'].string,\n  accept: _propTypes2['default'].string,\n  onStart: _propTypes2['default'].func,\n  multiple: _propTypes2['default'].bool,\n  children: _propTypes2['default'].any,\n  data: _propTypes2['default'].oneOfType([_propTypes2['default'].object, _propTypes2['default'].func]),\n  action: _propTypes2['default'].oneOfType([_propTypes2['default'].string, _propTypes2['default'].func]),\n  name: _propTypes2['default'].string\n};\nexports['default'] = IframeUploader;\nmodule.exports = exports['default'];\n};"],
"names":["shadow$provide","global","process","require","module","exports","shadow$shims","Object","defineProperty","value","_defineProperty2","_defineProperty3","_interopRequireDefault","_extends2","_extends3","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_propTypes","_propTypes2","_reactDom","_reactDom2","_classnames","_classnames2","_uid","_uid2","_warning","_warning2","obj","__esModule","IFRAME_STYLE","position","top","opacity","filter","left","zIndex","IframeUploader","_Component","_ref","_temp","_this","_ret","_len","arguments","length","args","Array","_key","call","__proto__","getPrototypeOf","apply","concat","state","uploading","file","onLoad","_this.onLoad","_this2","props","response","doc","getIframeDocument","script","getElementsByTagName","parentNode","body","removeChild","innerHTML","onSuccess","err","onError","endUpload","onChange","_this.onChange","target","getFormInputNode","uid","name","substring","lastIndexOf","startUpload","_this3","beforeUpload","post","before","then","saveIframe","_this.saveIframe","node","iframe","key","componentDidMount","updateIframeWH","initIframe","componentDidUpdate","getIframeNode","contentDocument","getFormNode","getElementById","getFormDataNode","getFileForMultiple","multiple","getIframeHTML","domain","domainScript","domainInput","initIframeSrc","src","iframeNode","win","contentWindow","document","e","open","write","close","onchange","setState","rootNode","findDOMNode","style","height","offsetHeight","width","offsetWidth","abort","_this4","formNode","dataSpan","data","onStart","inputs","createDocumentFragment","hasOwnProperty","input","createElement","setAttribute","appendChild","Promise","resolve","action","submit","render","_classNames","_props","Tag","component","disabled","className","prefixCls","children","iframeStyle","display","cls","ref","Component","propTypes","string","object","bool","accept","func","any","oneOfType"]
}

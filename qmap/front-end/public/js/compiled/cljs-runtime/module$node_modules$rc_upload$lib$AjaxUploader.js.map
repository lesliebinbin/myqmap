{
"version":3,
"file":"module$node_modules$rc_upload$lib$AjaxUploader.js",
"lineCount":15,
"mappings":"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",
"sources":["node_modules/rc-upload/lib/AjaxUploader.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_upload$lib$AjaxUploader\"] = function(global,process,require,module,exports,shadow$shims) {\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _request = require('./request');\n\nvar _request2 = _interopRequireDefault(_request);\n\nvar _uid = require('./uid');\n\nvar _uid2 = _interopRequireDefault(_uid);\n\nvar _attrAccept = require('./attr-accept');\n\nvar _attrAccept2 = _interopRequireDefault(_attrAccept);\n\nvar _traverseFileTree = require('./traverseFileTree');\n\nvar _traverseFileTree2 = _interopRequireDefault(_traverseFileTree);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar AjaxUploader = function (_Component) {\n  (0, _inherits3['default'])(AjaxUploader, _Component);\n\n  function AjaxUploader() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3['default'])(this, AjaxUploader);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3['default'])(this, (_ref = AjaxUploader.__proto__ || Object.getPrototypeOf(AjaxUploader)).call.apply(_ref, [this].concat(args))), _this), _this.state = { uid: (0, _uid2['default'])() }, _this.reqs = {}, _this.onChange = function (e) {\n      var files = e.target.files;\n      _this.uploadFiles(files);\n      _this.reset();\n    }, _this.onClick = function () {\n      var el = _this.fileInput;\n      if (!el) {\n        return;\n      }\n      el.click();\n    }, _this.onKeyDown = function (e) {\n      if (e.key === 'Enter') {\n        _this.onClick();\n      }\n    }, _this.onFileDrop = function (e) {\n      e.preventDefault();\n\n      if (e.type === 'dragover') {\n        return;\n      }\n\n      if (_this.props.directory) {\n        (0, _traverseFileTree2['default'])(e.dataTransfer.items, _this.uploadFiles, function (_file) {\n          return (0, _attrAccept2['default'])(_file, _this.props.accept);\n        });\n      } else {\n        var files = Array.prototype.slice.call(e.dataTransfer.files).filter(function (file) {\n          return (0, _attrAccept2['default'])(file, _this.props.accept);\n        });\n        _this.uploadFiles(files);\n      }\n    }, _this.uploadFiles = function (files) {\n      var postFiles = Array.prototype.slice.call(files);\n      postFiles.forEach(function (file) {\n        file.uid = (0, _uid2['default'])();\n        _this.upload(file, postFiles);\n      });\n    }, _this.saveFileInput = function (node) {\n      _this.fileInput = node;\n    }, _temp), (0, _possibleConstructorReturn3['default'])(_this, _ret);\n  }\n\n  (0, _createClass3['default'])(AjaxUploader, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._isMounted = true;\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n      this.abort();\n    }\n  }, {\n    key: 'upload',\n    value: function upload(file, fileList) {\n      var _this2 = this;\n\n      var props = this.props;\n\n      if (!props.beforeUpload) {\n        // always async in case use react state to keep fileList\n        return setTimeout(function () {\n          return _this2.post(file);\n        }, 0);\n      }\n\n      var before = props.beforeUpload(file, fileList);\n      if (before && before.then) {\n        before.then(function (processedFile) {\n          var processedFileType = Object.prototype.toString.call(processedFile);\n          if (processedFileType === '[object File]' || processedFileType === '[object Blob]') {\n            return _this2.post(processedFile);\n          }\n          return _this2.post(file);\n        })['catch'](function (e) {\n          console && console.log(e); // eslint-disable-line\n        });\n      } else if (before !== false) {\n        setTimeout(function () {\n          return _this2.post(file);\n        }, 0);\n      }\n    }\n  }, {\n    key: 'post',\n    value: function post(file) {\n      var _this3 = this;\n\n      if (!this._isMounted) {\n        return;\n      }\n      var props = this.props;\n      var data = props.data;\n      var onStart = props.onStart,\n          onProgress = props.onProgress;\n\n      if (typeof data === 'function') {\n        data = data(file);\n      }\n      new Promise(function (resolve) {\n        var action = props.action;\n\n        if (typeof action === 'function') {\n          return resolve(action(file));\n        }\n        resolve(action);\n      }).then(function (action) {\n        var uid = file.uid;\n\n        var request = props.customRequest || _request2['default'];\n        _this3.reqs[uid] = request({\n          action: action,\n          filename: props.name,\n          file: file,\n          data: data,\n          headers: props.headers,\n          withCredentials: props.withCredentials,\n          onProgress: onProgress ? function (e) {\n            onProgress(e, file);\n          } : null,\n          onSuccess: function onSuccess(ret, xhr) {\n            delete _this3.reqs[uid];\n            props.onSuccess(ret, file, xhr);\n          },\n          onError: function onError(err, ret) {\n            delete _this3.reqs[uid];\n            props.onError(err, ret, file);\n          }\n        });\n        onStart(file);\n      });\n    }\n  }, {\n    key: 'reset',\n    value: function reset() {\n      this.setState({\n        uid: (0, _uid2['default'])()\n      });\n    }\n  }, {\n    key: 'abort',\n    value: function abort(file) {\n      var reqs = this.reqs;\n\n      if (file) {\n        var uid = file;\n        if (file && file.uid) {\n          uid = file.uid;\n        }\n        if (reqs[uid]) {\n          reqs[uid].abort();\n          delete reqs[uid];\n        }\n      } else {\n        Object.keys(reqs).forEach(function (uid) {\n          if (reqs[uid]) {\n            reqs[uid].abort();\n          }\n\n          delete reqs[uid];\n        });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classNames;\n\n      var _props = this.props,\n          Tag = _props.component,\n          prefixCls = _props.prefixCls,\n          className = _props.className,\n          disabled = _props.disabled,\n          id = _props.id,\n          style = _props.style,\n          multiple = _props.multiple,\n          accept = _props.accept,\n          children = _props.children,\n          directory = _props.directory,\n          openFileDialogOnClick = _props.openFileDialogOnClick;\n\n      var cls = (0, _classnames2['default'])((_classNames = {}, (0, _defineProperty3['default'])(_classNames, prefixCls, true), (0, _defineProperty3['default'])(_classNames, prefixCls + '-disabled', disabled), (0, _defineProperty3['default'])(_classNames, className, className), _classNames));\n      var events = disabled ? {} : {\n        onClick: openFileDialogOnClick ? this.onClick : function () {},\n        onKeyDown: this.onKeyDown,\n        onDrop: this.onFileDrop,\n        onDragOver: this.onFileDrop,\n        tabIndex: '0'\n      };\n      return _react2['default'].createElement(\n        Tag,\n        (0, _extends3['default'])({}, events, {\n          className: cls,\n          role: 'button',\n          style: style\n        }),\n        _react2['default'].createElement('input', {\n          id: id,\n          type: 'file',\n          ref: this.saveFileInput,\n          key: this.state.uid,\n          style: { display: 'none' },\n          accept: accept,\n          directory: directory ? 'directory' : null,\n          webkitdirectory: directory ? 'webkitdirectory' : null,\n          multiple: multiple,\n          onChange: this.onChange\n        }),\n        children\n      );\n    }\n  }]);\n  return AjaxUploader;\n}(_react.Component); /* eslint react/no-is-mounted:0 react/sort-comp:0 */\n\nAjaxUploader.propTypes = {\n  id: _propTypes2['default'].string,\n  component: _propTypes2['default'].string,\n  style: _propTypes2['default'].object,\n  prefixCls: _propTypes2['default'].string,\n  className: _propTypes2['default'].string,\n  multiple: _propTypes2['default'].bool,\n  directory: _propTypes2['default'].bool,\n  disabled: _propTypes2['default'].bool,\n  accept: _propTypes2['default'].string,\n  children: _propTypes2['default'].any,\n  onStart: _propTypes2['default'].func,\n  data: _propTypes2['default'].oneOfType([_propTypes2['default'].object, _propTypes2['default'].func]),\n  action: _propTypes2['default'].oneOfType([_propTypes2['default'].string, _propTypes2['default'].func]),\n  headers: _propTypes2['default'].object,\n  beforeUpload: _propTypes2['default'].func,\n  customRequest: _propTypes2['default'].func,\n  onProgress: _propTypes2['default'].func,\n  withCredentials: _propTypes2['default'].bool,\n  openFileDialogOnClick: _propTypes2['default'].bool\n};\nexports['default'] = AjaxUploader;\nmodule.exports = exports['default'];\n};"],
"names":["shadow$provide","global","process","require","module","exports","shadow$shims","Object","defineProperty","value","_extends2","_extends3","_interopRequireDefault","_defineProperty2","_defineProperty3","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_propTypes","_propTypes2","_classnames","_classnames2","_request","_request2","_uid","_uid2","_attrAccept","_attrAccept2","_traverseFileTree","_traverseFileTree2","obj","__esModule","AjaxUploader","_Component","_ref","_temp","_this","_ret","_len","arguments","length","args","Array","_key","call","__proto__","getPrototypeOf","apply","concat","state","uid","reqs","onChange","_this.onChange","e","files","target","uploadFiles","reset","onClick","_this.onClick","el","fileInput","click","onKeyDown","_this.onKeyDown","key","onFileDrop","_this.onFileDrop","preventDefault","type","props","directory","dataTransfer","items","_file","accept","prototype","slice","filter","file","_this.uploadFiles","postFiles","forEach","upload","saveFileInput","_this.saveFileInput","node","componentDidMount","_isMounted","componentWillUnmount","abort","fileList","_this2","beforeUpload","setTimeout","post","before","then","processedFile","processedFileType","toString","console","log","_this3","data","onStart","onProgress","Promise","resolve","action","request","customRequest","filename","name","headers","withCredentials","onSuccess","ret","xhr","onError","err","setState","keys","render","_classNames","_props","Tag","component","prefixCls","className","disabled","id","style","multiple","children","openFileDialogOnClick","cls","events","onDrop","onDragOver","tabIndex","createElement","role","ref","display","webkitdirectory","Component","propTypes","string","object","bool","any","func","oneOfType"]
}

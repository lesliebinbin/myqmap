shadow$provide["module$node_modules$antd$lib$typography$util"]=function(global,process,require,module,exports,shadow$shims){Object.defineProperty(exports,"__esModule",{value:true});exports.measure=measure;var _reactDom=require("module$node_modules$react_dom$index");var React=_interopRequireWildcard(require("module$node_modules$react$index"));var _toArray=_interopRequireDefault(require("module$node_modules$rc_util$lib$Children$toArray"));function _interopRequireDefault(obj){return obj&&obj.__esModule?
obj:{"default":obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;else{var newObj={};if(obj!=null)for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set)Object.defineProperty(newObj,key,desc);else newObj[key]=obj[key]}newObj["default"]=obj;return newObj}}var ELEMENT_NODE=1;var TEXT_NODE=3;var COMMENT_NODE=8;var ellipsisContainer;
var wrapperStyle={padding:0,margin:0,display:"inline",lineHeight:"inherit"};function pxToNumber(value){if(!value)return 0;var match=value.match(/^\d*(\.\d*)?/);return match?Number(match[0]):0}function styleToString(style){var styleNames=Array.prototype.slice.apply(style);return styleNames.map(function(name){return"".concat(name,": ").concat(style.getPropertyValue(name),";")}).join("")}function mergeChildren(children){var childList=[];children.forEach(function(child){var prevChild=childList[childList.length-
1];if(typeof child==="string"&&typeof prevChild==="string")childList[childList.length-1]+=child;else childList.push(child)});return childList}function measure(originEle,rows,content,fixedContent,ellipsisStr){if(!ellipsisContainer){ellipsisContainer=document.createElement("div");ellipsisContainer.setAttribute("aria-hidden","true");document.body.appendChild(ellipsisContainer)}var originStyle=window.getComputedStyle(originEle);var originCSS=styleToString(originStyle);var lineHeight=pxToNumber(originStyle.lineHeight);
var maxHeight=lineHeight*(rows+1)+pxToNumber(originStyle.paddingTop)+pxToNumber(originStyle.paddingBottom);ellipsisContainer.setAttribute("style",originCSS);ellipsisContainer.style.position="fixed";ellipsisContainer.style.left="0";ellipsisContainer.style.height="auto";ellipsisContainer.style.minHeight="auto";ellipsisContainer.style.maxHeight="auto";ellipsisContainer.style.top="-999999px";ellipsisContainer.style.zIndex="-1000";ellipsisContainer.style.textOverflow="clip";ellipsisContainer.style.whiteSpace=
"normal";ellipsisContainer.style.webkitLineClamp="none";var contentList=mergeChildren((0,_toArray["default"])(content));(0,_reactDom.render)(React.createElement("div",{style:wrapperStyle},React.createElement("span",{style:wrapperStyle},contentList),React.createElement("span",{style:wrapperStyle},fixedContent)),ellipsisContainer);function inRange(){return ellipsisContainer.offsetHeight<maxHeight}if(inRange()){(0,_reactDom.unmountComponentAtNode)(ellipsisContainer);return{content:content,text:ellipsisContainer.innerHTML,
ellipsis:false}}var childNodes=Array.prototype.slice.apply(ellipsisContainer.childNodes[0].childNodes[0].cloneNode(true).childNodes).filter(function(_ref){var nodeType=_ref.nodeType;return nodeType!==COMMENT_NODE});var fixedNodes=Array.prototype.slice.apply(ellipsisContainer.childNodes[0].childNodes[1].cloneNode(true).childNodes);(0,_reactDom.unmountComponentAtNode)(ellipsisContainer);var ellipsisChildren=[];ellipsisContainer.innerHTML="";var ellipsisContentHolder=document.createElement("span");ellipsisContainer.appendChild(ellipsisContentHolder);
var ellipsisTextNode=document.createTextNode(ellipsisStr);ellipsisContentHolder.appendChild(ellipsisTextNode);fixedNodes.forEach(function(childNode){ellipsisContainer.appendChild(childNode)});function appendChildNode(node){ellipsisContentHolder.insertBefore(node,ellipsisTextNode)}function measureText(textNode,fullText){var startLoc=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var endLoc=arguments.length>3&&arguments[3]!==undefined?arguments[3]:fullText.length;var lastSuccessLoc=arguments.length>
4&&arguments[4]!==undefined?arguments[4]:0;var midLoc=Math.floor((startLoc+endLoc)/2);var currentText=fullText.slice(0,midLoc);textNode.textContent=currentText;if(startLoc>=endLoc-1)for(var step=endLoc;step>=startLoc;step-=1){var currentStepText=fullText.slice(0,step);textNode.textContent=currentStepText;if(inRange())return step===fullText.length?{finished:false,reactNode:fullText}:{finished:true,reactNode:currentStepText}}if(inRange())return measureText(textNode,fullText,midLoc,endLoc,midLoc);else return measureText(textNode,
fullText,startLoc,midLoc,lastSuccessLoc)}function measureNode(childNode,index){var type=childNode.nodeType;if(type===ELEMENT_NODE){appendChildNode(childNode);if(inRange())return{finished:false,reactNode:contentList[index]};ellipsisContentHolder.removeChild(childNode);return{finished:true,reactNode:null}}else if(type===TEXT_NODE){var fullText=childNode.textContent||"";var textNode=document.createTextNode(fullText);appendChildNode(textNode);return measureText(textNode,fullText)}return{finished:false,
reactNode:null}}childNodes.some(function(childNode,index){var _measureNode=measureNode(childNode,index),finished=_measureNode.finished,reactNode=_measureNode.reactNode;if(reactNode)ellipsisChildren.push(reactNode);return finished});return{content:ellipsisChildren,text:ellipsisContainer.innerHTML,ellipsis:true}}}
//# sourceMappingURL=module$node_modules$antd$lib$typography$util.js.map

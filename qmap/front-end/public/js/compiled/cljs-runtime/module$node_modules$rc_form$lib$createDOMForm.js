shadow$provide["module$node_modules$rc_form$lib$createDOMForm"]=function(global,process,require,module,exports,shadow$shims){Object.defineProperty(exports,"__esModule",{value:true});var _extends2=require("module$node_modules$babel_runtime$helpers$extends");var _extends3=_interopRequireDefault(_extends2);var _reactDom=require("module$node_modules$react_dom$index");var _reactDom2=_interopRequireDefault(_reactDom);var _domScrollIntoView=require("module$node_modules$dom_scroll_into_view$lib$index");var _domScrollIntoView2=
_interopRequireDefault(_domScrollIntoView);var _has=require("module$node_modules$lodash$has");var _has2=_interopRequireDefault(_has);var _createBaseForm=require("module$node_modules$rc_form$lib$createBaseForm");var _createBaseForm2=_interopRequireDefault(_createBaseForm);var _createForm=require("module$node_modules$rc_form$lib$createForm");var _utils=require("module$node_modules$rc_form$lib$utils");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function computedStyle(el,
prop){var getComputedStyle=window.getComputedStyle;var style=getComputedStyle?getComputedStyle(el):el.currentStyle;if(style)return style[prop.replace(/-(\w)/gi,function(word,letter){return letter.toUpperCase()})];return undefined}function getScrollableContainer(n){var node=n;var nodeName=void 0;while((nodeName=node.nodeName.toLowerCase())!=="body"){var overflowY=computedStyle(node,"overflowY");if(node!==n&&(overflowY==="auto"||overflowY==="scroll")&&node.scrollHeight>node.clientHeight)return node;
node=node.parentNode}return nodeName==="body"?node.ownerDocument:node}var mixin={getForm:function getForm(){return(0,_extends3["default"])({},_createForm.mixin.getForm.call(this),{validateFieldsAndScroll:this.validateFieldsAndScroll})},validateFieldsAndScroll:function validateFieldsAndScroll(ns,opt,cb){var _this=this;var _getParams=(0,_utils.getParams)(ns,opt,cb),names=_getParams.names,callback=_getParams.callback,options=_getParams.options;var newCb=function newCb(error,values){if(error){var validNames=
_this.fieldsStore.getValidFieldsName();var firstNode=void 0;var firstTop=void 0;validNames.forEach(function(name){if((0,_has2["default"])(error,name)){var instance=_this.getFieldInstance(name);if(instance){var node=_reactDom2["default"].findDOMNode(instance);var top=node.getBoundingClientRect().top;if(node.type!=="hidden"&&(firstTop===undefined||firstTop>top)){firstTop=top;firstNode=node}}}});if(firstNode){var c=options.container||getScrollableContainer(firstNode);(0,_domScrollIntoView2["default"])(firstNode,
c,(0,_extends3["default"])({onlyScrollIfNeeded:true},options.scroll))}}if(typeof callback==="function")callback(error,values)};return this.validateFields(names,options,newCb)}};function createDOMForm(option){return(0,_createBaseForm2["default"])((0,_extends3["default"])({},option),[mixin])}exports["default"]=createDOMForm;module.exports=exports["default"]}
//# sourceMappingURL=module$node_modules$rc_form$lib$createDOMForm.js.map
